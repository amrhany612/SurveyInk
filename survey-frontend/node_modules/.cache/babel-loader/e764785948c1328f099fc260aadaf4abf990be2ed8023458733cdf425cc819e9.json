{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useParams,useNavigate}from'react-router-dom';import api from'../../axiosConfig';import dashboardBg from'../../assets/dashboardBg.png';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ViewFreelancerSubmission=()=>{const{surveyId,freelancerId}=useParams();const[submission,setSubmission]=useState(null);const[isRTL,setIsRTL]=useState(false);const[loading,setLoading]=useState(true);const navigate=useNavigate();useEffect(()=>{const fetchSubmission=async()=>{try{const token=localStorage.getItem('access');const res=await api.get(\"/survey/\".concat(surveyId,\"/submission/\").concat(freelancerId,\"/\"),{headers:{Authorization:\"Bearer \".concat(token)}});setSubmission(res.data);setIsRTL(res.data.survey.language==='ar');}catch(err){console.error('Error:',err);}finally{setLoading(false);}};fetchSubmission();},[surveyId,freelancerId]);if(loading)return/*#__PURE__*/_jsx(\"p\",{children:isRTL?'جار التحميل...':'Loading...'});if(!submission||!submission.survey)return/*#__PURE__*/_jsx(\"p\",{children:isRTL?'لم يتم العثور على الاستبيان':'Survey not found'});const{survey,answers}=submission;return/*#__PURE__*/_jsx(\"div\",{style:{direction:isRTL?'rtl':'ltr',background:\"url(\".concat(dashboardBg,\")\"),backgroundAttachment:'fixed',backgroundRepeat:'no-repeat',backgroundSize:'100% 100%',minHeight:'100vh',padding:'2rem'},children:/*#__PURE__*/_jsxs(\"div\",{style:{maxWidth:700,backgroundColor:'#A3B6DED4',borderRadius:12,padding:'2rem',margin:'0 auto',color:'white'},children:[/*#__PURE__*/_jsx(\"h2\",{children:survey.title}),/*#__PURE__*/_jsx(\"p\",{children:survey.description}),/*#__PURE__*/_jsxs(\"form\",{children:[answers.map((a,i)=>{const q=a.question;const answer=a.answer_text;return/*#__PURE__*/_jsxs(\"div\",{style:{backgroundColor:'white',color:'black',padding:12,borderRadius:8,marginBottom:20},children:[/*#__PURE__*/_jsxs(\"label\",{children:[i+1,\". \",q.text]}),q.question_type==='multiple_choice'&&q.choices.map(opt=>{const isChecked=answer===opt.text;return/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',margin:'6px 0',padding:'6px 12px',borderRadius:6,backgroundColor:isChecked?'#F19303':'transparent',cursor:'not-allowed'},children:[/*#__PURE__*/_jsx(\"div\",{style:{position:'relative',width:18,height:18,borderRadius:'50%',border:\"2px solid \".concat(isChecked?'#F19303':'#aaa'),backgroundColor:isChecked?'#F19303':'#eee',marginRight:10}}),/*#__PURE__*/_jsx(\"span\",{style:{fontSize:16},children:opt.text})]},opt.id);}),q.question_type==='text'&&/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:answer,style:{width:'97%',padding:8},readOnly:true,disabled:true}),q.question_type==='scale'&&/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center'},children:[/*#__PURE__*/_jsx(\"span\",{children:q.scale_min_label||'1'}),[1,2,3,4,5].map(val=>{const isChecked=answer===String(val);return/*#__PURE__*/_jsxs(\"label\",{style:{padding:'6px 10px',margin:'0 4px',borderRadius:6,backgroundColor:isChecked?'#F19303':'transparent',cursor:'not-allowed'},children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"q_\".concat(a.question_id),value:val,checked:isChecked,readOnly:true,disabled:true,style:{marginRight:4}}),val]},val);}),/*#__PURE__*/_jsx(\"span\",{children:q.scale_max_label||'5'})]})]},a.id);}),/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'center',marginTop:24},children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>navigate(-1),style:{padding:'0.75rem 2rem',backgroundColor:'#F19303',color:'white',border:'none',borderRadius:8,fontWeight:'bold'},children:isRTL?'عودة':'Back'})})]})]})});};export default ViewFreelancerSubmission;","map":{"version":3,"names":["React","useEffect","useState","useParams","useNavigate","api","dashboardBg","jsx","_jsx","jsxs","_jsxs","ViewFreelancerSubmission","surveyId","freelancerId","submission","setSubmission","isRTL","setIsRTL","loading","setLoading","navigate","fetchSubmission","token","localStorage","getItem","res","get","concat","headers","Authorization","data","survey","language","err","console","error","children","answers","style","direction","background","backgroundAttachment","backgroundRepeat","backgroundSize","minHeight","padding","maxWidth","backgroundColor","borderRadius","margin","color","title","description","map","a","i","q","question","answer","answer_text","marginBottom","text","question_type","choices","opt","isChecked","display","alignItems","cursor","position","width","height","border","marginRight","fontSize","id","type","value","readOnly","disabled","justifyContent","scale_min_label","val","String","name","question_id","checked","scale_max_label","textAlign","marginTop","onClick","fontWeight"],"sources":["E:/programming/SurveyInk/survey-frontend/src/pages/Survey/ViewFreelancerSubmission.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport api from '../../axiosConfig';\r\nimport dashboardBg from '../../assets/dashboardBg.png'\r\n\r\nconst ViewFreelancerSubmission = () => {\r\n  const { surveyId, freelancerId } = useParams();\r\n  const [submission, setSubmission] = useState(null);\r\n  const [isRTL, setIsRTL] = useState(false);\r\n  const [loading, setLoading] = useState(true);\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const fetchSubmission = async () => {\r\n      try {\r\n        const token = localStorage.getItem('access');\r\n        const res = await api.get(`/survey/${surveyId}/submission/${freelancerId}/`, {\r\n          headers: { Authorization: `Bearer ${token}` }\r\n        });\r\n\r\n        setSubmission(res.data);\r\n        setIsRTL(res.data.survey.language === 'ar');\r\n      } catch (err) {\r\n        console.error('Error:', err);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchSubmission();\r\n  }, [surveyId, freelancerId]);\r\n\r\n  if (loading) return <p>{isRTL ? 'جار التحميل...' : 'Loading...'}</p>;\r\n  if (!submission || !submission.survey) return <p>{isRTL ? 'لم يتم العثور على الاستبيان' : 'Survey not found'}</p>;\r\n\r\n  const { survey, answers } = submission;\r\n\r\n  return (\r\n    <div style={{ direction: isRTL ? 'rtl' : 'ltr',background: `url(${dashboardBg})`,backgroundAttachment: 'fixed',backgroundRepeat: 'no-repeat',backgroundSize: '100% 100%', minHeight: '100vh', padding: '2rem' }}>\r\n      <div style={{ maxWidth: 700, backgroundColor: '#A3B6DED4', borderRadius: 12, padding: '2rem', margin: '0 auto', color: 'white' }}>\r\n        <h2>{survey.title}</h2>\r\n        <p>{survey.description}</p>\r\n\r\n        <form>\r\n          {answers.map((a, i) => {\r\n            const q = a.question;\r\n            const answer = a.answer_text;\r\n\r\n            return (\r\n              <div key={a.id} style={{ backgroundColor: 'white', color: 'black', padding: 12, borderRadius: 8, marginBottom: 20 }}>\r\n                <label>{i + 1}. {q.text}</label>\r\n\r\n               {q.question_type === 'multiple_choice' && q.choices.map(opt => {\r\n  const isChecked = answer === opt.text;\r\n\r\n  return (\r\n    <div\r\n      key={opt.id}\r\n      style={{\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        margin: '6px 0',\r\n        padding: '6px 12px',\r\n        borderRadius: 6,\r\n        backgroundColor: isChecked ? '#F19303' : 'transparent',\r\n        cursor: 'not-allowed',\r\n      }}\r\n    >\r\n      <div\r\n        style={{\r\n          position: 'relative',\r\n          width: 18,\r\n          height: 18,\r\n          borderRadius: '50%',\r\n          border: `2px solid ${isChecked ? '#F19303' : '#aaa'}`,\r\n          backgroundColor: isChecked ? '#F19303' : '#eee',\r\n          marginRight: 10,\r\n        }}\r\n      />\r\n      <span style={{ fontSize: 16 }}>{opt.text}</span>\r\n    </div>\r\n  );\r\n})}\r\n\r\n{q.question_type === 'text' && (\r\n  <input\r\n    type=\"text\"\r\n    value={answer}\r\n    style={{ width: '97%', padding: 8 }}\r\n    readOnly\r\n    disabled\r\n  />\r\n)}\r\n\r\n{q.question_type === 'scale' && (\r\n  <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n    <span>{q.scale_min_label || '1'}</span>\r\n    {[1, 2, 3, 4, 5].map(val => {\r\n      const isChecked = answer === String(val);\r\n\r\n      return (\r\n        <label\r\n          key={val}\r\n          style={{\r\n            padding: '6px 10px',\r\n            margin: '0 4px',\r\n            borderRadius: 6,\r\n            backgroundColor: isChecked ? '#F19303' : 'transparent',\r\n            cursor: 'not-allowed',\r\n          }}\r\n        >\r\n          <input\r\n            type=\"radio\"\r\n            name={`q_${a.question_id}`}\r\n            value={val}\r\n            checked={isChecked}\r\n            readOnly\r\n            disabled\r\n            style={{ marginRight: 4 }}\r\n          />\r\n          {val}\r\n        </label>\r\n      );\r\n    })}\r\n    <span>{q.scale_max_label || '5'}</span>\r\n  </div>\r\n)}\r\n\r\n              </div>\r\n            );\r\n          })}\r\n\r\n          <div style={{ textAlign: 'center', marginTop: 24 }}>\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => navigate(-1)}\r\n              style={{\r\n                padding: '0.75rem 2rem',\r\n                backgroundColor: '#F19303',\r\n                color: 'white',\r\n                border: 'none',\r\n                borderRadius: 8,\r\n                fontWeight: 'bold'\r\n              }}\r\n            >\r\n              {isRTL ? 'عودة' : 'Back'}\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ViewFreelancerSubmission;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}