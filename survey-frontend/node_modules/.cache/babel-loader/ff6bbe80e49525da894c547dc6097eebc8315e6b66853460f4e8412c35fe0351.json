{"ast":null,"code":"var _jsxFileName = \"E:\\\\programming\\\\SurveyInk\\\\survey-frontend\\\\src\\\\pages\\\\Survey\\\\SurveyForm.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { toast, ToastContainer } from 'react-toastify';\nimport dashboardBg from '../../assets/dashboardBg.png';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction SurveyForm() {\n  _s();\n  const {\n    id\n  } = useParams();\n  const navigate = useNavigate();\n  const [survey, setSurvey] = useState(null);\n  const [demographics, setDemographics] = useState({});\n  const [answers, setAnswers] = useState({});\n  const [countries, setCountries] = useState([]);\n  const [universities, setUniversities] = useState([]);\n  const [fieldsOfStudy, setFieldsOfStudy] = useState([]);\n  const [professions, setProfessions] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [step, setStep] = useState(1);\n  const [isRTL, setIsRTL] = useState(false);\n  const [startTime, setStartTime] = useState(null);\n  const [timeLeft, setTimeLeft] = useState(null);\n  const [userRole, setUserRole] = useState('');\n  const [hoverBtn, setHoverBtn] = useState({\n    back: false,\n    submit: false\n  });\n  const fetchDropdowns = async token => {\n    const endpoints = [['countries', setCountries], ['universities', setUniversities], ['fields_of_study', setFieldsOfStudy], ['professions', setProfessions]];\n    await Promise.all(endpoints.map(async ([endpoint, setter]) => {\n      try {\n        const res = await axios.get(`http://localhost:8000/api/${endpoint}/`, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        setter(res.data);\n      } catch (err) {\n        console.error(`Failed to fetch ${endpoint}:`, err);\n      }\n    }));\n  };\n  useEffect(() => {\n    const fetchSurvey = async () => {\n      try {\n        const token = localStorage.getItem('access');\n        const res = await axios.get(`http://localhost:8000/surveys/${id}/display/`, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        console.log(res.data.user_role);\n        setUserRole(res.data.user_role);\n        setSurvey(res.data);\n        console.log(userRole);\n        setIsRTL(res.data.language === 'ar');\n        await fetchDropdowns(token);\n      } catch (err) {\n        console.error('Error fetching survey:', err);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchSurvey();\n  }, [id]);\n  useEffect(() => {\n    if (step === 2 && survey) {\n      const maxSec = survey.max_duration_minutes * 60;\n      setStartTime(Date.now());\n      setTimeLeft(maxSec);\n      const interval = setInterval(() => {\n        setTimeLeft(prev => {\n          if (prev <= 1) {\n            clearInterval(interval);\n            alert(isRTL ? 'انتهى الوقت' : 'Time is up');\n            navigate('/all-surveys');\n            return 0;\n          }\n          return prev - 1;\n        });\n      }, 1000);\n      return () => clearInterval(interval);\n    }\n  }, [step, survey]);\n  const demographicFields = (survey === null || survey === void 0 ? void 0 : survey.demographic) || {};\n  console.log(demographicFields);\n  const handleDemographicsChange = (field, value) => {\n    setDemographics(prev => ({\n      ...prev,\n      [field]: value\n    }));\n  };\n  const handleAnswersChange = (questionId, value) => {\n    setAnswers(prev => ({\n      ...prev,\n      [questionId]: value\n    }));\n  };\n  const handleDemographicsNext = e => {\n    e.preventDefault();\n    setStep(2);\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const durationSeconds = Math.floor((Date.now() - startTime) / 1000);\n\n    // if (durationSeconds < survey.min_duration_minutes * 60) {\n    //   toast.warning(isRTL ? 'المدة غير كافية' : 'Not enough time spent');\n    //   return;\n    // }\n\n    try {\n      const token = localStorage.getItem('access');\n      await axios.post(`http://localhost:8000/surveys/${id}/submit/`, {\n        demographics,\n        answers,\n        duration: durationSeconds\n      }, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      alert(isRTL ? 'تم الإرسال بنجاح' : 'Submitted successfully');\n      navigate('/surveys/solved');\n    } catch (error) {\n      console.error('Submit error:', error);\n      alert(isRTL ? 'فشل الإرسال' : 'Submission failed');\n    }\n  };\n  const formatTime = seconds => {\n    const m = String(Math.floor(seconds / 60)).padStart(2, '0');\n    const s = String(seconds % 60).padStart(2, '0');\n    return `${m}:${s}`;\n  };\n  if (loading) return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: isRTL ? 'جار التحميل...' : 'Loading...'\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 138,\n    columnNumber: 23\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      direction: isRTL ? 'rtl' : 'ltr',\n      background: `url(${dashboardBg})`,\n      backgroundAttachment: 'fixed',\n      backgroundRepeat: 'no-repeat',\n      backgroundSize: '100% 100%',\n      minHeight: '100vh',\n      padding: '2rem'\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        maxWidth: 700,\n        backgroundColor: '#A3B6DED4',\n        borderRadius: 12,\n        padding: '2rem',\n        margin: '0 auto',\n        color: 'white'\n      },\n      children: [step === 2 && timeLeft !== null && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: '1rem',\n          fontWeight: 'bold'\n        },\n        children: [isRTL ? 'الوقت المتبقي: ' : 'Time left:', \" \", formatTime(timeLeft)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        style: {\n          color: '#35508C'\n        },\n        children: survey.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          color: '#35508C'\n        },\n        children: survey.description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 9\n      }, this), step === 1 ? /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleDemographicsNext,\n        children: [demographicFields.age_min !== 0 && demographicFields.age_max !== 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: 12\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: [isRTL ? 'العمر' : 'Age', \":\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            value: demographics.age || '',\n            onChange: e => handleDemographicsChange('age', e.target.value),\n            required: userRole !== 'researcher',\n            min: demographicFields.age_min,\n            max: demographicFields.age_max,\n            placeholder: `Age (${demographicFields.age_min} - ${demographicFields.age_max})`,\n            style: {\n              width: '97%',\n              padding: 8,\n              marginTop: 4,\n              borderRadius: 4\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 15\n        }, this), demographicFields.gender !== null && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: 12\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: [isRTL ? 'الجنس' : 'Gender', \":\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: demographics.gender || '',\n            onChange: e => handleDemographicsChange('gender', e.target.value),\n            required: userRole !== 'researcher',\n            style: {\n              width: '97%',\n              padding: 8,\n              marginTop: 4,\n              borderRadius: 4\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: isRTL ? 'اختر' : 'Select'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"male\",\n              children: isRTL ? 'ذكر' : 'Male'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 181,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"female\",\n              children: isRTL ? 'أنثى' : 'Female'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 182,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 15\n        }, this), demographicFields.country && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: 12\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: [isRTL ? 'الدولة' : 'Country', \":\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: demographics.country || '',\n            onChange: e => handleDemographicsChange('country', e.target.value),\n            required: userRole !== 'researcher',\n            style: {\n              width: '100%',\n              padding: 8,\n              marginTop: 4,\n              borderRadius: 4\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: isRTL ? 'اختر' : 'Select'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 19\n            }, this), countries.map(c => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: c.name,\n              children: c.name\n            }, c.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 39\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 15\n        }, this), demographicFields.university && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: 12\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: [isRTL ? 'الجامعة' : 'University', \":\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: demographics.university || '',\n            onChange: e => handleDemographicsChange('university', e.target.value),\n            required: userRole !== 'researcher',\n            style: {\n              width: '100%',\n              padding: 8\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: isRTL ? 'اختر' : 'Select'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 211,\n              columnNumber: 19\n            }, this), universities.map(u => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: u.name,\n              children: u.name\n            }, u.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 212,\n              columnNumber: 42\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 15\n        }, this), demographicFields.field_of_study && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: 12\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: [isRTL ? 'المجال' : 'Field of Study', \":\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: demographics.field_of_study || '',\n            onChange: e => handleDemographicsChange('field_of_study', e.target.value),\n            required: userRole !== 'researcher',\n            style: {\n              width: '100%',\n              padding: 8\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: isRTL ? 'اختر' : 'Select'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 226,\n              columnNumber: 19\n            }, this), fieldsOfStudy.map(f => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: f.name,\n              children: f.name\n            }, f.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 43\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 15\n        }, this), demographicFields.profession && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: 12\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: [isRTL ? 'المهنة' : 'Profession', \":\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: demographics.profession || '',\n            onChange: e => handleDemographicsChange('profession', e.target.value),\n            required: userRole !== 'researcher',\n            style: {\n              width: '100%',\n              padding: 8\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: isRTL ? 'اختر' : 'Select'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 241,\n              columnNumber: 19\n            }, this), professions.map(p => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: p.name,\n              children: p.name\n            }, p.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 242,\n              columnNumber: 41\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 15\n        }, this), demographicFields.income_min !== 0 && demographicFields.income_max !== 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: 12\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: [isRTL ? 'الدخل' : 'Income', \":\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            value: demographics.income || '',\n            onChange: e => handleDemographicsChange('income', e.target.value),\n            required: userRole !== 'researcher',\n            min: demographicFields.income_min,\n            max: demographicFields.income_max,\n            placeholder: `Income (${demographicFields.income_min} - ${demographicFields.income_max})`,\n            style: {\n              width: '97%',\n              padding: 8,\n              marginTop: 4,\n              borderRadius: 4\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            textAlign: 'center',\n            marginTop: 24\n          },\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            onMouseEnter: () => setHoverBtn({\n              ...hoverBtn,\n              back: true\n            }),\n            onMouseLeave: () => setHoverBtn({\n              ...hoverBtn,\n              back: false\n            }),\n            style: {\n              padding: '0.75rem 2rem',\n              backgroundColor: hoverBtn.back ? '#F19303' : 'white',\n              color: hoverBtn.back ? 'white' : '#395692',\n              border: 'none',\n              borderRadius: 8,\n              fontWeight: 'bold'\n            },\n            children: isRTL ? 'التالي' : 'Next'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(ToastContainer, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 13\n        }, this), survey.questions.map((q, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            backgroundColor: 'white',\n            color: 'black',\n            padding: 12,\n            borderRadius: 8,\n            marginBottom: 20\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: [i + 1, \". \", q.question_text]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 288,\n            columnNumber: 17\n          }, this), q.type === 'multiple_choice' && q.options.map(opt => /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"radio\",\n              name: q.id,\n              value: opt.text,\n              checked: answers[q.id] === opt.text,\n              onChange: () => handleAnswersChange(q.id, opt.text),\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 292,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              style: {\n                marginLeft: 8\n              },\n              children: opt.text\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 300,\n              columnNumber: 23\n            }, this)]\n          }, opt.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 291,\n            columnNumber: 21\n          }, this)), q.type === 'text' && /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: answers[q.id] || '',\n            onChange: e => handleAnswersChange(q.id, e.target.value),\n            required: true,\n            style: {\n              width: '97%',\n              padding: 8\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 305,\n            columnNumber: 19\n          }, this), q.type === 'scale' && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              justifyContent: 'space-between',\n              alignItems: 'center'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: q.scale_min_label || '1'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 315,\n              columnNumber: 21\n            }, this), [1, 2, 3, 4, 5].map(val => /*#__PURE__*/_jsxDEV(\"label\", {\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"radio\",\n                name: q.id,\n                value: val,\n                checked: answers[q.id] === String(val),\n                onChange: () => handleAnswersChange(q.id, String(val)),\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 318,\n                columnNumber: 25\n              }, this), val]\n            }, val, true, {\n              fileName: _jsxFileName,\n              lineNumber: 317,\n              columnNumber: 23\n            }, this)), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: q.scale_max_label || '5'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 329,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 314,\n            columnNumber: 19\n          }, this)]\n        }, q.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 15\n        }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            justifyContent: 'space-between'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: () => setStep(1),\n            style: {\n              padding: '0.75rem 2rem',\n              backgroundColor: hoverBtn.back ? '#F19303' : 'white',\n              color: hoverBtn.back ? 'white' : '#395692',\n              border: 'none',\n              borderRadius: 8,\n              fontWeight: 'bold',\n              cursor: 'pointer'\n            },\n            children: [isRTL ? 'عودة' : 'Back', \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 336,\n            columnNumber: 15\n          }, this), userRole !== 'researcher' && /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            style: {\n              padding: '0.75rem 2rem',\n              backgroundColor: hoverBtn.back ? '#F19303' : 'white',\n              color: hoverBtn.back ? 'white' : '#395692',\n              border: 'none',\n              borderRadius: 8,\n              fontWeight: 'bold',\n              cursor: 'pointer'\n            },\n            children: isRTL ? 'إرسال' : 'Submit'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 345,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 335,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 141,\n    columnNumber: 5\n  }, this);\n}\n_s(SurveyForm, \"adLgEc73EKrvcvEja3AD0fxeg7w=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = SurveyForm;\nexport default SurveyForm;\nvar _c;\n$RefreshReg$(_c, \"SurveyForm\");","map":{"version":3,"names":["React","useEffect","useState","axios","useParams","useNavigate","toast","ToastContainer","dashboardBg","jsxDEV","_jsxDEV","SurveyForm","_s","id","navigate","survey","setSurvey","demographics","setDemographics","answers","setAnswers","countries","setCountries","universities","setUniversities","fieldsOfStudy","setFieldsOfStudy","professions","setProfessions","loading","setLoading","step","setStep","isRTL","setIsRTL","startTime","setStartTime","timeLeft","setTimeLeft","userRole","setUserRole","hoverBtn","setHoverBtn","back","submit","fetchDropdowns","token","endpoints","Promise","all","map","endpoint","setter","res","get","headers","Authorization","data","err","console","error","fetchSurvey","localStorage","getItem","log","user_role","language","maxSec","max_duration_minutes","Date","now","interval","setInterval","prev","clearInterval","alert","demographicFields","demographic","handleDemographicsChange","field","value","handleAnswersChange","questionId","handleDemographicsNext","e","preventDefault","handleSubmit","durationSeconds","Math","floor","post","duration","formatTime","seconds","m","String","padStart","s","children","fileName","_jsxFileName","lineNumber","columnNumber","style","direction","background","backgroundAttachment","backgroundRepeat","backgroundSize","minHeight","padding","maxWidth","backgroundColor","borderRadius","margin","color","marginBottom","fontWeight","title","description","onSubmit","age_min","age_max","type","age","onChange","target","required","min","max","placeholder","width","marginTop","gender","country","c","name","university","u","field_of_study","f","profession","p","income_min","income_max","income","textAlign","onMouseEnter","onMouseLeave","border","questions","q","i","question_text","options","opt","text","checked","marginLeft","display","justifyContent","alignItems","scale_min_label","val","scale_max_label","onClick","cursor","_c","$RefreshReg$"],"sources":["E:/programming/SurveyInk/survey-frontend/src/pages/Survey/SurveyForm.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport { toast, ToastContainer } from 'react-toastify';\r\nimport dashboardBg from '../../assets/dashboardBg.png'\r\n\r\nfunction SurveyForm() {\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n\r\n  const [survey, setSurvey] = useState(null);\r\n  const [demographics, setDemographics] = useState({});\r\n  const [answers, setAnswers] = useState({});\r\n  const [countries, setCountries] = useState([]);\r\n  const [universities, setUniversities] = useState([]);\r\n  const [fieldsOfStudy, setFieldsOfStudy] = useState([]);\r\n  const [professions, setProfessions] = useState([]);\r\n\r\n  const [loading, setLoading] = useState(true);\r\n  const [step, setStep] = useState(1);\r\n  const [isRTL, setIsRTL] = useState(false);\r\n  const [startTime, setStartTime] = useState(null);\r\n  const [timeLeft, setTimeLeft] = useState(null);\r\n  const [userRole, setUserRole] = useState('');\r\n\r\n  const [hoverBtn, setHoverBtn] = useState({ back: false, submit: false });\r\n\r\n  const fetchDropdowns = async (token) => {\r\n    const endpoints = [\r\n      ['countries', setCountries],\r\n      ['universities', setUniversities],\r\n      ['fields_of_study', setFieldsOfStudy],\r\n      ['professions', setProfessions],\r\n    ];\r\n\r\n    await Promise.all(endpoints.map(async ([endpoint, setter]) => {\r\n      try {\r\n        const res = await axios.get(`http://localhost:8000/api/${endpoint}/`, {\r\n          headers: { Authorization: `Bearer ${token}` }\r\n        });\r\n        setter(res.data);\r\n      } catch (err) {\r\n        console.error(`Failed to fetch ${endpoint}:`, err);\r\n      }\r\n    }));\r\n  };\r\n\r\n  useEffect(() => {\r\n    const fetchSurvey = async () => {\r\n      try {\r\n        const token = localStorage.getItem('access');\r\n        const res = await axios.get(`http://localhost:8000/surveys/${id}/display/`, {\r\n          headers: { Authorization: `Bearer ${token}` }\r\n        });\r\n        console.log(res.data.user_role)\r\n        setUserRole(res.data.user_role);\r\n        setSurvey(res.data);\r\n        console.log(userRole)\r\n        setIsRTL(res.data.language === 'ar');\r\n        await fetchDropdowns(token);\r\n      } catch (err) {\r\n        console.error('Error fetching survey:', err);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    fetchSurvey();\r\n  }, [id]);\r\n\r\n  useEffect(() => {\r\n    if (step === 2 && survey) {\r\n      const maxSec = survey.max_duration_minutes * 60;\r\n      setStartTime(Date.now());\r\n      setTimeLeft(maxSec);\r\n\r\n      const interval = setInterval(() => {\r\n        setTimeLeft(prev => {\r\n          if (prev <= 1) {\r\n            clearInterval(interval);\r\n            alert(isRTL ? 'انتهى الوقت' : 'Time is up');\r\n            navigate('/all-surveys');\r\n            return 0;\r\n          }\r\n          return prev - 1;\r\n        });\r\n      }, 1000);\r\n\r\n      return () => clearInterval(interval);\r\n    }\r\n  }, [step, survey]);\r\n\r\n  const demographicFields = survey?.demographic || {};\r\n  console.log(demographicFields)\r\n  const handleDemographicsChange = (field, value) => {\r\n    setDemographics(prev => ({ ...prev, [field]: value }));\r\n  };\r\n\r\n  const handleAnswersChange = (questionId, value) => {\r\n    setAnswers(prev => ({ ...prev, [questionId]: value }));\r\n  };\r\n\r\n  const handleDemographicsNext = (e) => {\r\n    e.preventDefault();\r\n    setStep(2);\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const durationSeconds = Math.floor((Date.now() - startTime) / 1000);\r\n\r\n    // if (durationSeconds < survey.min_duration_minutes * 60) {\r\n    //   toast.warning(isRTL ? 'المدة غير كافية' : 'Not enough time spent');\r\n    //   return;\r\n    // }\r\n\r\n    try {\r\n      const token = localStorage.getItem('access');\r\n      await axios.post(`http://localhost:8000/surveys/${id}/submit/`, {\r\n        demographics, answers, duration: durationSeconds\r\n      }, {\r\n        headers: { Authorization: `Bearer ${token}` }\r\n      });\r\n\r\n      alert(isRTL ? 'تم الإرسال بنجاح' : 'Submitted successfully');\r\n      navigate('/surveys/solved');\r\n    } catch (error) {\r\n      console.error('Submit error:', error);\r\n      alert(isRTL ? 'فشل الإرسال' : 'Submission failed');\r\n    }\r\n  };\r\n\r\n  const formatTime = (seconds) => {\r\n    const m = String(Math.floor(seconds / 60)).padStart(2, '0');\r\n    const s = String(seconds % 60).padStart(2, '0');\r\n    return `${m}:${s}`;\r\n  };\r\n\r\n  if (loading) return <p>{isRTL ? 'جار التحميل...' : 'Loading...'}</p>;\r\n\r\n  return (\r\n    <div style={{ direction: isRTL ? 'rtl' : 'ltr',background: `url(${dashboardBg})`,backgroundAttachment: 'fixed',backgroundRepeat: 'no-repeat',backgroundSize: '100% 100%', minHeight: '100vh', padding: '2rem' }}>\r\n      <div style={{ maxWidth: 700, backgroundColor: '#A3B6DED4', borderRadius: 12, padding: '2rem', margin: '0 auto', color: 'white' }}>\r\n        {step === 2 && timeLeft !== null && (\r\n          <div style={{ marginBottom: '1rem', fontWeight: 'bold' }}>\r\n            {isRTL ? 'الوقت المتبقي: ' : 'Time left:'} {formatTime(timeLeft)}\r\n          </div>\r\n        )}\r\n\r\n        <h2 style={{color:'#35508C'}}>{survey.title}</h2>\r\n        <p style={{color:'#35508C'}}>{survey.description}</p>\r\n\r\n        {step === 1 ? (\r\n          <form onSubmit={handleDemographicsNext}>\r\n            {demographicFields.age_min !== 0 && demographicFields.age_max !== 0 && (\r\n              <div style={{ marginBottom: 12 }}>\r\n                <label>{isRTL ? 'العمر' : 'Age'}:</label>\r\n                <input\r\n                  type=\"number\"\r\n                  value={demographics.age || ''}\r\n                  onChange={(e) => handleDemographicsChange('age', e.target.value)}\r\n                  required ={userRole !== 'researcher'}\r\n                  min={demographicFields.age_min}\r\n                  max={demographicFields.age_max}\r\n                  placeholder={`Age (${demographicFields.age_min} - ${demographicFields.age_max})`}\r\n\r\n                  style={{ width: '97%', padding: 8, marginTop: 4, borderRadius: 4 }}\r\n                />\r\n              </div>\r\n            )}\r\n\r\n            {demographicFields.gender !== null && (\r\n              <div style={{ marginBottom: 12 }}>\r\n                <label>{isRTL ? 'الجنس' : 'Gender'}:</label>\r\n                <select\r\n                  value={demographics.gender || ''}\r\n                  onChange={(e) => handleDemographicsChange('gender', e.target.value)}\r\n                  required ={userRole !== 'researcher'}\r\n                  style={{ width: '97%', padding: 8, marginTop: 4, borderRadius: 4 }}\r\n                >\r\n                  <option value=\"\">{isRTL ? 'اختر' : 'Select'}</option>\r\n                  <option value=\"male\">{isRTL ? 'ذكر' : 'Male'}</option>\r\n                  <option value=\"female\">{isRTL ? 'أنثى' : 'Female'}</option>\r\n                </select>\r\n              </div>\r\n            )}\r\n\r\n            {demographicFields.country && (\r\n              <div style={{ marginBottom: 12 }}>\r\n                <label>{isRTL ? 'الدولة' : 'Country'}:</label>\r\n                <select\r\n                  value={demographics.country || ''}\r\n                  onChange={(e) => handleDemographicsChange('country', e.target.value)}\r\n                  required ={userRole !== 'researcher'}\r\n                  style={{ width: '100%', padding: 8, marginTop: 4, borderRadius: 4 }}\r\n                >\r\n                  <option value=\"\">{isRTL ? 'اختر' : 'Select'}</option>\r\n                  {countries.map(c => <option key={c.id} value={c.name}>{c.name}</option>)}\r\n                </select>\r\n              </div>\r\n            )}\r\n\r\n            {demographicFields.university && (\r\n              <div style={{ marginBottom: 12 }}>\r\n                <label>{isRTL ? 'الجامعة' : 'University'}:</label>\r\n                <select\r\n                  value={demographics.university || ''}\r\n                  onChange={(e) => handleDemographicsChange('university', e.target.value)}\r\n                  required ={userRole !== 'researcher'}\r\n                  style={{ width: '100%', padding: 8 }}\r\n                >\r\n                  <option value=\"\">{isRTL ? 'اختر' : 'Select'}</option>\r\n                  {universities.map(u => <option key={u.id} value={u.name}>{u.name}</option>)}\r\n                </select>\r\n              </div>\r\n            )}\r\n\r\n            {demographicFields.field_of_study && (\r\n              <div style={{ marginBottom: 12 }}>\r\n                <label>{isRTL ? 'المجال' : 'Field of Study'}:</label>\r\n                <select\r\n                  value={demographics.field_of_study || ''}\r\n                  onChange={(e) => handleDemographicsChange('field_of_study', e.target.value)}\r\n                  required ={userRole !== 'researcher'} \r\n                  style={{ width: '100%', padding: 8 }}\r\n                >\r\n                  <option value=\"\">{isRTL ? 'اختر' : 'Select'}</option>\r\n                  {fieldsOfStudy.map(f => <option key={f.id} value={f.name}>{f.name}</option>)}\r\n                </select>\r\n              </div>\r\n            )}\r\n\r\n            {demographicFields.profession && (\r\n              <div style={{ marginBottom: 12 }}>\r\n                <label>{isRTL ? 'المهنة' : 'Profession'}:</label>\r\n                <select\r\n                  value={demographics.profession || ''}\r\n                  onChange={(e) => handleDemographicsChange('profession', e.target.value)}\r\n                  required ={userRole !== 'researcher'}\r\n                  style={{ width: '100%', padding: 8 }}\r\n                >\r\n                  <option value=\"\">{isRTL ? 'اختر' : 'Select'}</option>\r\n                  {professions.map(p => <option key={p.id} value={p.name}>{p.name}</option>)}\r\n                </select>\r\n              </div>\r\n            )}\r\n\r\n            {demographicFields.income_min !== 0 && demographicFields.income_max !== 0 && (\r\n              <div style={{ marginBottom: 12 }}>\r\n                \r\n                <label>{isRTL ? 'الدخل' : 'Income'}:</label>\r\n                <input\r\n                  type=\"number\"\r\n                  value={demographics.income || ''}\r\n                  onChange={(e) => handleDemographicsChange('income', e.target.value)}\r\n                  required ={userRole !== 'researcher'}\r\n                  min={demographicFields.income_min}\r\n                  max={demographicFields.income_max}\r\n                  placeholder={`Income (${demographicFields.income_min} - ${demographicFields.income_max})`}\r\n\r\n                  style={{ width: '97%', padding: 8, marginTop: 4, borderRadius: 4 }}\r\n                />\r\n              </div>\r\n            )}\r\n\r\n            <div style={{ textAlign: 'center', marginTop: 24 }}>\r\n              <button\r\n                type=\"submit\"\r\n                onMouseEnter={() => setHoverBtn({ ...hoverBtn, back: true })}\r\n                onMouseLeave={() => setHoverBtn({ ...hoverBtn, back: false })}\r\n                style={{\r\n                  padding: '0.75rem 2rem',\r\n                  backgroundColor: hoverBtn.back ? '#F19303' : 'white',\r\n                  color: hoverBtn.back ? 'white' : '#395692',\r\n                  border: 'none',\r\n                  borderRadius: 8,\r\n                  fontWeight: 'bold'\r\n                }}\r\n              >\r\n                {isRTL ? 'التالي' : 'Next'}\r\n              </button>\r\n            </div>\r\n          </form>\r\n        ) : (\r\n          <form onSubmit={handleSubmit}>\r\n            <ToastContainer />\r\n            {survey.questions.map((q, i) => (\r\n              <div key={q.id} style={{ backgroundColor: 'white', color: 'black', padding: 12, borderRadius: 8, marginBottom: 20 }}>\r\n                <label>{i + 1}. {q.question_text}</label>\r\n                {q.type === 'multiple_choice' &&\r\n                  q.options.map(opt => (\r\n                    <div key={opt.id}>\r\n                      <input\r\n                        type=\"radio\"\r\n                        name={q.id}\r\n                        value={opt.text}\r\n                        checked={answers[q.id] === opt.text}\r\n                        onChange={() => handleAnswersChange(q.id, opt.text)}\r\n                        required\r\n                      />\r\n                      <label style={{ marginLeft: 8 }}>{opt.text}</label>\r\n                    </div>\r\n                  ))\r\n                }\r\n                {q.type === 'text' && (\r\n                  <input\r\n                    type=\"text\"\r\n                    value={answers[q.id] || ''}\r\n                    onChange={(e) => handleAnswersChange(q.id, e.target.value)}\r\n                    required\r\n                    style={{ width: '97%', padding: 8 }}\r\n                  />\r\n                )}\r\n                {q.type === 'scale' && (\r\n                  <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n                    <span>{q.scale_min_label || '1'}</span>\r\n                    {[1, 2, 3, 4, 5].map(val => (\r\n                      <label key={val}>\r\n                        <input\r\n                          type=\"radio\"\r\n                          name={q.id}\r\n                          value={val}\r\n                          checked={answers[q.id] === String(val)}\r\n                          onChange={() => handleAnswersChange(q.id, String(val))}\r\n                          required\r\n                        />\r\n                        {val}\r\n                      </label>\r\n                    ))}\r\n                    <span>{q.scale_max_label || '5'}</span>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            ))}\r\n\r\n            <div style={{ display: 'flex', justifyContent: 'space-between' }}>\r\n              <button type=\"button\" onClick={() => setStep(1)} style={{                  \r\n                padding: '0.75rem 2rem',\r\n                  backgroundColor: hoverBtn.back ? '#F19303' : 'white',\r\n                  color: hoverBtn.back ? 'white' : '#395692',\r\n                  border: 'none',\r\n                  borderRadius: 8,\r\n                  fontWeight: 'bold',\r\n                  cursor:'pointer'}}>{isRTL ? 'عودة' : 'Back'} </button>\r\n              {userRole !== 'researcher' && (\r\n                <button type=\"submit\" style = {{ padding: '0.75rem 2rem',\r\n                  backgroundColor: hoverBtn.back ? '#F19303' : 'white',\r\n                  color: hoverBtn.back ? 'white' : '#395692',\r\n                  border: 'none',\r\n                  borderRadius: 8,\r\n                  fontWeight: 'bold',\r\n                  cursor:'pointer'}} >\r\n                  {isRTL ? 'إرسال' : 'Submit'}\r\n                </button>\r\n              )}            \r\n            </div>\r\n          </form>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SurveyForm;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}