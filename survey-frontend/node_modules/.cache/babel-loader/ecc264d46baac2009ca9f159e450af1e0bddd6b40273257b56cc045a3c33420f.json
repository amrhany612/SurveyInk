{"ast":null,"code":"var _jsxFileName = \"E:\\\\programming\\\\SurveyInk\\\\survey-frontend\\\\src\\\\components\\\\Verify_email.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect } from \"react\";\nimport { useSearchParams, useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst VerifyEmail = () => {\n  _s();\n  const [searchParams] = useSearchParams();\n  const navigate = useNavigate();\n  useEffect(() => {\n    const uid = searchParams.get(\"uid\");\n    const token = searchParams.get(\"token\");\n    if (uid && token) {\n      fetch(`http://localhost:8000/api/verify-email/${uid}/${token}/`).then(response => {\n        if (!response.ok) throw new Error(\"Verification failed\");\n        return response.json();\n      }).then(() => {\n        // Redirect immediately with success message\n        navigate('/login?msg=' + encodeURIComponent(\"Email verified successfully! You can now log in.\"), {\n          replace: true\n        });\n      }).catch(() => {\n        // Redirect immediately with failure message\n        navigate('/login?msg=' + encodeURIComponent(\"Verification failed. Please try again.\"), {\n          replace: true\n        });\n      });\n    } else {\n      // Redirect if params are invalid\n      navigate('/login?msg=' + encodeURIComponent(\"Invalid verification link.\"), {\n        replace: true\n      });\n    }\n  }, [searchParams, navigate]);\n\n  // Return null because we don't render anything here\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      textAlign: \"center\",\n      marginTop: \"2rem\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"spinner\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Verifying your email...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n      children: `\n      .spinner {\n        margin: 0 auto 1rem;\n        width: 40px;\n        height: 40px;\n        border: 4px solid #ccc;\n        border-top-color: #395692;\n        border-radius: 50%;\n        animation: spin 1s linear infinite;\n      }\n      @keyframes spin {\n        to { transform: rotate(360deg); }\n      }\n    `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 3\n  }, this);\n};\n_s(VerifyEmail, \"OrEVTaK/ulvdNKALjk4Kiv6CIR8=\", false, function () {\n  return [useSearchParams, useNavigate];\n});\n_c = VerifyEmail;\nexport default VerifyEmail;\nvar _c;\n$RefreshReg$(_c, \"VerifyEmail\");","map":{"version":3,"names":["React","useEffect","useSearchParams","useNavigate","jsxDEV","_jsxDEV","VerifyEmail","_s","searchParams","navigate","uid","get","token","fetch","then","response","ok","Error","json","encodeURIComponent","replace","catch","style","textAlign","marginTop","children","className","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["E:/programming/SurveyInk/survey-frontend/src/components/Verify_email.jsx"],"sourcesContent":["import React, { useEffect } from \"react\";\r\nimport { useSearchParams, useNavigate } from \"react-router-dom\";\r\n\r\nconst VerifyEmail = () => {\r\n  const [searchParams] = useSearchParams();\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const uid = searchParams.get(\"uid\");\r\n    const token = searchParams.get(\"token\");\r\n\r\n    if (uid && token) {\r\n      fetch(`http://localhost:8000/api/verify-email/${uid}/${token}/`)\r\n        .then(response => {\r\n          if (!response.ok) throw new Error(\"Verification failed\");\r\n          return response.json();\r\n        })\r\n        .then(() => {\r\n          // Redirect immediately with success message\r\n          navigate('/login?msg=' + encodeURIComponent(\"Email verified successfully! You can now log in.\"), { replace: true });\r\n        })\r\n        .catch(() => {\r\n          // Redirect immediately with failure message\r\n          navigate('/login?msg=' + encodeURIComponent(\"Verification failed. Please try again.\"), { replace: true });\r\n        });\r\n    } else {\r\n      // Redirect if params are invalid\r\n      navigate('/login?msg=' + encodeURIComponent(\"Invalid verification link.\"), { replace: true });\r\n    }\r\n  }, [searchParams, navigate]);\r\n\r\n  // Return null because we don't render anything here\r\nreturn (\r\n  <div style={{ textAlign: \"center\", marginTop: \"2rem\" }}>\r\n    <div className=\"spinner\" />\r\n    <p>Verifying your email...</p>\r\n    <style>{`\r\n      .spinner {\r\n        margin: 0 auto 1rem;\r\n        width: 40px;\r\n        height: 40px;\r\n        border: 4px solid #ccc;\r\n        border-top-color: #395692;\r\n        border-radius: 50%;\r\n        animation: spin 1s linear infinite;\r\n      }\r\n      @keyframes spin {\r\n        to { transform: rotate(360deg); }\r\n      }\r\n    `}</style>\r\n  </div>\r\n);\r\n};\r\n\r\nexport default VerifyEmail;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,SAASC,eAAe,EAAEC,WAAW,QAAQ,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEhE,MAAMC,WAAW,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACxB,MAAM,CAACC,YAAY,CAAC,GAAGN,eAAe,CAAC,CAAC;EACxC,MAAMO,QAAQ,GAAGN,WAAW,CAAC,CAAC;EAE9BF,SAAS,CAAC,MAAM;IACd,MAAMS,GAAG,GAAGF,YAAY,CAACG,GAAG,CAAC,KAAK,CAAC;IACnC,MAAMC,KAAK,GAAGJ,YAAY,CAACG,GAAG,CAAC,OAAO,CAAC;IAEvC,IAAID,GAAG,IAAIE,KAAK,EAAE;MAChBC,KAAK,CAAC,0CAA0CH,GAAG,IAAIE,KAAK,GAAG,CAAC,CAC7DE,IAAI,CAACC,QAAQ,IAAI;QAChB,IAAI,CAACA,QAAQ,CAACC,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,qBAAqB,CAAC;QACxD,OAAOF,QAAQ,CAACG,IAAI,CAAC,CAAC;MACxB,CAAC,CAAC,CACDJ,IAAI,CAAC,MAAM;QACV;QACAL,QAAQ,CAAC,aAAa,GAAGU,kBAAkB,CAAC,kDAAkD,CAAC,EAAE;UAAEC,OAAO,EAAE;QAAK,CAAC,CAAC;MACrH,CAAC,CAAC,CACDC,KAAK,CAAC,MAAM;QACX;QACAZ,QAAQ,CAAC,aAAa,GAAGU,kBAAkB,CAAC,wCAAwC,CAAC,EAAE;UAAEC,OAAO,EAAE;QAAK,CAAC,CAAC;MAC3G,CAAC,CAAC;IACN,CAAC,MAAM;MACL;MACAX,QAAQ,CAAC,aAAa,GAAGU,kBAAkB,CAAC,4BAA4B,CAAC,EAAE;QAAEC,OAAO,EAAE;MAAK,CAAC,CAAC;IAC/F;EACF,CAAC,EAAE,CAACZ,YAAY,EAAEC,QAAQ,CAAC,CAAC;;EAE5B;EACF,oBACEJ,OAAA;IAAKiB,KAAK,EAAE;MAAEC,SAAS,EAAE,QAAQ;MAAEC,SAAS,EAAE;IAAO,CAAE;IAAAC,QAAA,gBACrDpB,OAAA;MAAKqB,SAAS,EAAC;IAAS;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eAC3BzB,OAAA;MAAAoB,QAAA,EAAG;IAAuB;MAAAE,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAG,CAAC,eAC9BzB,OAAA;MAAAoB,QAAA,EAAQ;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IAAK;MAAAE,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACP,CAAC;AAER,CAAC;AAACvB,EAAA,CAjDID,WAAW;EAAA,QACQJ,eAAe,EACrBC,WAAW;AAAA;AAAA4B,EAAA,GAFxBzB,WAAW;AAmDjB,eAAeA,WAAW;AAAC,IAAAyB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}