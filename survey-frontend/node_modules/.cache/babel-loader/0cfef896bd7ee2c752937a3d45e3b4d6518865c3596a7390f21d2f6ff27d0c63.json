{"ast":null,"code":"import _objectSpread from\"E:/programming/SurveyInk/survey-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useState}from'react';import axios from'axios';import{useParams,useNavigate}from'react-router-dom';import{toast,ToastContainer}from'react-toastify';import dashboardBg from'../../assets/dashboardBg.png';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function SurveyForm(){const{id}=useParams();const navigate=useNavigate();const[survey,setSurvey]=useState(null);const[demographics,setDemographics]=useState({});const[answers,setAnswers]=useState({});const[countries,setCountries]=useState([]);const[universities,setUniversities]=useState([]);const[fieldsOfStudy,setFieldsOfStudy]=useState([]);const[professions,setProfessions]=useState([]);const[loading,setLoading]=useState(true);const[step,setStep]=useState(1);const[isRTL,setIsRTL]=useState(false);const[startTime,setStartTime]=useState(null);const[timeLeft,setTimeLeft]=useState(null);const[userRole,setUserRole]=useState('');const[hoverBtn,setHoverBtn]=useState({back:false,submit:false});const fetchDropdowns=async token=>{const endpoints=[['countries',setCountries],['universities',setUniversities],['fields_of_study',setFieldsOfStudy],['professions',setProfessions]];await Promise.all(endpoints.map(async _ref=>{let[endpoint,setter]=_ref;try{const res=await axios.get(\"http://localhost:8000/api/\".concat(endpoint,\"/\"),{headers:{Authorization:\"Bearer \".concat(token)}});setter(res.data);}catch(err){console.error(\"Failed to fetch \".concat(endpoint,\":\"),err);}}));};useEffect(()=>{const fetchSurvey=async()=>{try{const token=localStorage.getItem('access');const res=await axios.get(\"http://localhost:8000/surveys/\".concat(id,\"/display/\"),{headers:{Authorization:\"Bearer \".concat(token)}});console.log(res.data.user_role);setUserRole(res.data.user_role);setSurvey(res.data);console.log(userRole);setIsRTL(res.data.language==='ar');await fetchDropdowns(token);}catch(err){console.error('Error fetching survey:',err);}finally{setLoading(false);}};fetchSurvey();},[id]);useEffect(()=>{if(step===2&&survey){const maxSec=survey.max_duration_minutes*60;setStartTime(Date.now());setTimeLeft(maxSec);const interval=setInterval(()=>{setTimeLeft(prev=>{if(prev<=1){clearInterval(interval);alert(isRTL?'انتهى الوقت':'Time is up');navigate('/all-surveys');return 0;}return prev-1;});},1000);return()=>clearInterval(interval);}},[step,survey]);const demographicFields=(survey===null||survey===void 0?void 0:survey.demographic)||{};console.log(demographicFields);const handleDemographicsChange=(field,value)=>{setDemographics(prev=>_objectSpread(_objectSpread({},prev),{},{[field]:value}));};const handleAnswersChange=(questionId,value)=>{setAnswers(prev=>_objectSpread(_objectSpread({},prev),{},{[questionId]:value}));};const handleDemographicsNext=e=>{e.preventDefault();setStep(2);};const handleSubmit=async e=>{e.preventDefault();const durationSeconds=Math.floor((Date.now()-startTime)/1000);// if (durationSeconds < survey.min_duration_minutes * 60) {\n//   toast.warning(isRTL ? 'المدة غير كافية' : 'Not enough time spent');\n//   return;\n// }\ntry{const token=localStorage.getItem('access');await axios.post(\"http://localhost:8000/surveys/\".concat(id,\"/submit/\"),{demographics,answers,duration:durationSeconds},{headers:{Authorization:\"Bearer \".concat(token)}});alert(isRTL?'تم الإرسال بنجاح':'Submitted successfully');navigate('/surveys/solved');}catch(error){console.error('Submit error:',error);alert(isRTL?'فشل الإرسال':'Submission failed');}};const formatTime=seconds=>{const m=String(Math.floor(seconds/60)).padStart(2,'0');const s=String(seconds%60).padStart(2,'0');return\"\".concat(m,\":\").concat(s);};if(loading)return/*#__PURE__*/_jsx(\"p\",{children:isRTL?'جار التحميل...':'Loading...'});return/*#__PURE__*/_jsx(\"div\",{style:{direction:isRTL?'rtl':'ltr',background:\"url(\".concat(dashboardBg,\")\"),backgroundAttachment:'fixed',backgroundRepeat:'no-repeat',backgroundSize:'100% 100%',minHeight:'100vh',padding:'2rem'},children:/*#__PURE__*/_jsxs(\"div\",{style:{maxWidth:700,backgroundColor:'#A3B6DED4',borderRadius:12,padding:'2rem',margin:'0 auto',color:'white'},children:[step===2&&timeLeft!==null&&/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'1rem',fontWeight:'bold'},children:[isRTL?'الوقت المتبقي: ':'Time left:',\" \",formatTime(timeLeft)]}),/*#__PURE__*/_jsx(\"h2\",{style:{color:'#35508C'},children:survey.title}),/*#__PURE__*/_jsx(\"p\",{style:{color:'#35508C'},children:survey.description}),step===1?/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleDemographicsNext,children:[demographicFields.age_min!==0&&demographicFields.age_max!==0&&/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:12},children:[/*#__PURE__*/_jsxs(\"label\",{children:[isRTL?'العمر':'Age',\":\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:demographics.age||'',onChange:e=>handleDemographicsChange('age',e.target.value),required:userRole!=='researcher',min:demographicFields.age_min,max:demographicFields.age_max,placeholder:\"Age (\".concat(demographicFields.age_min,\" - \").concat(demographicFields.age_max,\")\"),style:{width:'97%',padding:8,marginTop:4,borderRadius:4}})]}),demographicFields.gender!==null&&/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:12},children:[/*#__PURE__*/_jsxs(\"label\",{children:[isRTL?'الجنس':'Gender',\":\"]}),/*#__PURE__*/_jsxs(\"select\",{value:demographics.gender||'',onChange:e=>handleDemographicsChange('gender',e.target.value),required:userRole!=='researcher',style:{width:'97%',padding:8,marginTop:4,borderRadius:4},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:isRTL?'اختر':'Select'}),/*#__PURE__*/_jsx(\"option\",{value:\"male\",children:isRTL?'ذكر':'Male'}),/*#__PURE__*/_jsx(\"option\",{value:\"female\",children:isRTL?'أنثى':'Female'})]})]}),demographicFields.country&&/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:12},children:[/*#__PURE__*/_jsxs(\"label\",{children:[isRTL?'الدولة':'Country',\":\"]}),/*#__PURE__*/_jsxs(\"select\",{value:demographics.country||'',onChange:e=>handleDemographicsChange('country',e.target.value),required:userRole!=='researcher',style:{width:'100%',padding:8,marginTop:4,borderRadius:4},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:isRTL?'اختر':'Select'}),countries.map(c=>/*#__PURE__*/_jsx(\"option\",{value:c.name,children:c.name},c.id))]})]}),demographicFields.university&&/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:12},children:[/*#__PURE__*/_jsxs(\"label\",{children:[isRTL?'الجامعة':'University',\":\"]}),/*#__PURE__*/_jsxs(\"select\",{value:demographics.university||'',onChange:e=>handleDemographicsChange('university',e.target.value),required:userRole!=='researcher',style:{width:'100%',padding:8},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:isRTL?'اختر':'Select'}),universities.map(u=>/*#__PURE__*/_jsx(\"option\",{value:u.name,children:u.name},u.id))]})]}),demographicFields.field_of_study&&/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:12},children:[/*#__PURE__*/_jsxs(\"label\",{children:[isRTL?'المجال':'Field of Study',\":\"]}),/*#__PURE__*/_jsxs(\"select\",{value:demographics.field_of_study||'',onChange:e=>handleDemographicsChange('field_of_study',e.target.value),required:userRole!=='researcher',style:{width:'100%',padding:8},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:isRTL?'اختر':'Select'}),fieldsOfStudy.map(f=>/*#__PURE__*/_jsx(\"option\",{value:f.name,children:f.name},f.id))]})]}),demographicFields.profession&&/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:12},children:[/*#__PURE__*/_jsxs(\"label\",{children:[isRTL?'المهنة':'Profession',\":\"]}),/*#__PURE__*/_jsxs(\"select\",{value:demographics.profession||'',onChange:e=>handleDemographicsChange('profession',e.target.value),required:userRole!=='researcher',style:{width:'100%',padding:8},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:isRTL?'اختر':'Select'}),professions.map(p=>/*#__PURE__*/_jsx(\"option\",{value:p.name,children:p.name},p.id))]})]}),demographicFields.income_min!==0&&demographicFields.income_max!==0&&/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:12},children:[/*#__PURE__*/_jsxs(\"label\",{children:[isRTL?'الدخل':'Income',\":\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:demographics.income||'',onChange:e=>handleDemographicsChange('income',e.target.value),required:userRole!=='researcher',min:demographicFields.income_min,max:demographicFields.income_max,placeholder:\"Income (\".concat(demographicFields.income_min,\" - \").concat(demographicFields.income_max,\")\"),style:{width:'97%',padding:8,marginTop:4,borderRadius:4}})]}),/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'center',marginTop:24},children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",onMouseEnter:()=>setHoverBtn(_objectSpread(_objectSpread({},hoverBtn),{},{back:true})),onMouseLeave:()=>setHoverBtn(_objectSpread(_objectSpread({},hoverBtn),{},{back:false})),style:{padding:'0.75rem 2rem',backgroundColor:hoverBtn.back?'#F19303':'white',color:hoverBtn.back?'white':'#395692',border:'none',borderRadius:8,fontWeight:'bold'},children:isRTL?'التالي':'Next'})})]}):/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(ToastContainer,{}),survey.questions.map((q,i)=>/*#__PURE__*/_jsxs(\"div\",{style:{backgroundColor:'white',color:'black',padding:12,borderRadius:8,marginBottom:20},children:[/*#__PURE__*/_jsxs(\"label\",{children:[i+1,\". \",q.question_text]}),q.type==='multiple_choice'&&q.options.map(opt=>/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:q.id,value:opt.text,checked:answers[q.id]===opt.text,onChange:()=>handleAnswersChange(q.id,opt.text),required:true}),/*#__PURE__*/_jsx(\"label\",{style:{marginLeft:8},children:opt.text})]},opt.id)),q.type==='text'&&/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:answers[q.id]||'',onChange:e=>handleAnswersChange(q.id,e.target.value),required:true,style:{width:'97%',padding:8}}),q.type==='scale'&&/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center'},children:[/*#__PURE__*/_jsx(\"span\",{children:q.scale_min_label||'1'}),[1,2,3,4,5].map(val=>/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:q.id,value:val,checked:answers[q.id]===String(val),onChange:()=>handleAnswersChange(q.id,String(val)),required:true}),val]},val)),/*#__PURE__*/_jsx(\"span\",{children:q.scale_max_label||'5'})]})]},q.id)),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between'},children:[/*#__PURE__*/_jsxs(\"button\",{type:\"button\",onClick:()=>setStep(1),style:{padding:'0.75rem 2rem',backgroundColor:hoverBtn.back?'#F19303':'white',color:hoverBtn.back?'white':'#395692',border:'none',borderRadius:8,fontWeight:'bold',cursor:'pointer'},children:[isRTL?'عودة':'Back',\" \"]}),userRole!=='researcher'&&/*#__PURE__*/_jsx(\"button\",{type:\"submit\",style:{padding:'0.75rem 2rem',backgroundColor:hoverBtn.back?'#F19303':'white',color:hoverBtn.back?'white':'#395692',border:'none',borderRadius:8,fontWeight:'bold',cursor:'pointer'},children:isRTL?'إرسال':'Submit'})]})]})]})});}export default SurveyForm;","map":{"version":3,"names":["React","useEffect","useState","axios","useParams","useNavigate","toast","ToastContainer","dashboardBg","jsx","_jsx","jsxs","_jsxs","SurveyForm","id","navigate","survey","setSurvey","demographics","setDemographics","answers","setAnswers","countries","setCountries","universities","setUniversities","fieldsOfStudy","setFieldsOfStudy","professions","setProfessions","loading","setLoading","step","setStep","isRTL","setIsRTL","startTime","setStartTime","timeLeft","setTimeLeft","userRole","setUserRole","hoverBtn","setHoverBtn","back","submit","fetchDropdowns","token","endpoints","Promise","all","map","_ref","endpoint","setter","res","get","concat","headers","Authorization","data","err","console","error","fetchSurvey","localStorage","getItem","log","user_role","language","maxSec","max_duration_minutes","Date","now","interval","setInterval","prev","clearInterval","alert","demographicFields","demographic","handleDemographicsChange","field","value","_objectSpread","handleAnswersChange","questionId","handleDemographicsNext","e","preventDefault","handleSubmit","durationSeconds","Math","floor","post","duration","formatTime","seconds","m","String","padStart","s","children","style","direction","background","backgroundAttachment","backgroundRepeat","backgroundSize","minHeight","padding","maxWidth","backgroundColor","borderRadius","margin","color","marginBottom","fontWeight","title","description","onSubmit","age_min","age_max","type","age","onChange","target","required","min","max","placeholder","width","marginTop","gender","country","c","name","university","u","field_of_study","f","profession","p","income_min","income_max","income","textAlign","onMouseEnter","onMouseLeave","border","questions","q","i","question_text","options","opt","text","checked","marginLeft","display","justifyContent","alignItems","scale_min_label","val","scale_max_label","onClick","cursor"],"sources":["E:/programming/SurveyInk/survey-frontend/src/pages/Survey/SurveyForm.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport { toast, ToastContainer } from 'react-toastify';\r\nimport dashboardBg from '../../assets/dashboardBg.png'\r\n\r\nfunction SurveyForm() {\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n\r\n  const [survey, setSurvey] = useState(null);\r\n  const [demographics, setDemographics] = useState({});\r\n  const [answers, setAnswers] = useState({});\r\n  const [countries, setCountries] = useState([]);\r\n  const [universities, setUniversities] = useState([]);\r\n  const [fieldsOfStudy, setFieldsOfStudy] = useState([]);\r\n  const [professions, setProfessions] = useState([]);\r\n\r\n  const [loading, setLoading] = useState(true);\r\n  const [step, setStep] = useState(1);\r\n  const [isRTL, setIsRTL] = useState(false);\r\n  const [startTime, setStartTime] = useState(null);\r\n  const [timeLeft, setTimeLeft] = useState(null);\r\n  const [userRole, setUserRole] = useState('');\r\n\r\n  const [hoverBtn, setHoverBtn] = useState({ back: false, submit: false });\r\n\r\n  const fetchDropdowns = async (token) => {\r\n    const endpoints = [\r\n      ['countries', setCountries],\r\n      ['universities', setUniversities],\r\n      ['fields_of_study', setFieldsOfStudy],\r\n      ['professions', setProfessions],\r\n    ];\r\n\r\n    await Promise.all(endpoints.map(async ([endpoint, setter]) => {\r\n      try {\r\n        const res = await axios.get(`http://localhost:8000/api/${endpoint}/`, {\r\n          headers: { Authorization: `Bearer ${token}` }\r\n        });\r\n        setter(res.data);\r\n      } catch (err) {\r\n        console.error(`Failed to fetch ${endpoint}:`, err);\r\n      }\r\n    }));\r\n  };\r\n\r\n  useEffect(() => {\r\n    const fetchSurvey = async () => {\r\n      try {\r\n        const token = localStorage.getItem('access');\r\n        const res = await axios.get(`http://localhost:8000/surveys/${id}/display/`, {\r\n          headers: { Authorization: `Bearer ${token}` }\r\n        });\r\n        console.log(res.data.user_role)\r\n        setUserRole(res.data.user_role);\r\n        setSurvey(res.data);\r\n        console.log(userRole)\r\n        setIsRTL(res.data.language === 'ar');\r\n        await fetchDropdowns(token);\r\n      } catch (err) {\r\n        console.error('Error fetching survey:', err);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    fetchSurvey();\r\n  }, [id]);\r\n\r\n  useEffect(() => {\r\n    if (step === 2 && survey) {\r\n      const maxSec = survey.max_duration_minutes * 60;\r\n      setStartTime(Date.now());\r\n      setTimeLeft(maxSec);\r\n\r\n      const interval = setInterval(() => {\r\n        setTimeLeft(prev => {\r\n          if (prev <= 1) {\r\n            clearInterval(interval);\r\n            alert(isRTL ? 'انتهى الوقت' : 'Time is up');\r\n            navigate('/all-surveys');\r\n            return 0;\r\n          }\r\n          return prev - 1;\r\n        });\r\n      }, 1000);\r\n\r\n      return () => clearInterval(interval);\r\n    }\r\n  }, [step, survey]);\r\n\r\n  const demographicFields = survey?.demographic || {};\r\n  console.log(demographicFields)\r\n  const handleDemographicsChange = (field, value) => {\r\n    setDemographics(prev => ({ ...prev, [field]: value }));\r\n  };\r\n\r\n  const handleAnswersChange = (questionId, value) => {\r\n    setAnswers(prev => ({ ...prev, [questionId]: value }));\r\n  };\r\n\r\n  const handleDemographicsNext = (e) => {\r\n    e.preventDefault();\r\n    setStep(2);\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const durationSeconds = Math.floor((Date.now() - startTime) / 1000);\r\n\r\n    // if (durationSeconds < survey.min_duration_minutes * 60) {\r\n    //   toast.warning(isRTL ? 'المدة غير كافية' : 'Not enough time spent');\r\n    //   return;\r\n    // }\r\n\r\n    try {\r\n      const token = localStorage.getItem('access');\r\n      await axios.post(`http://localhost:8000/surveys/${id}/submit/`, {\r\n        demographics, answers, duration: durationSeconds\r\n      }, {\r\n        headers: { Authorization: `Bearer ${token}` }\r\n      });\r\n\r\n      alert(isRTL ? 'تم الإرسال بنجاح' : 'Submitted successfully');\r\n      navigate('/surveys/solved');\r\n    } catch (error) {\r\n      console.error('Submit error:', error);\r\n      alert(isRTL ? 'فشل الإرسال' : 'Submission failed');\r\n    }\r\n  };\r\n\r\n  const formatTime = (seconds) => {\r\n    const m = String(Math.floor(seconds / 60)).padStart(2, '0');\r\n    const s = String(seconds % 60).padStart(2, '0');\r\n    return `${m}:${s}`;\r\n  };\r\n\r\n  if (loading) return <p>{isRTL ? 'جار التحميل...' : 'Loading...'}</p>;\r\n\r\n  return (\r\n    <div style={{ direction: isRTL ? 'rtl' : 'ltr',background: `url(${dashboardBg})`,backgroundAttachment: 'fixed',backgroundRepeat: 'no-repeat',backgroundSize: '100% 100%', minHeight: '100vh', padding: '2rem' }}>\r\n      <div style={{ maxWidth: 700, backgroundColor: '#A3B6DED4', borderRadius: 12, padding: '2rem', margin: '0 auto', color: 'white' }}>\r\n        {step === 2 && timeLeft !== null && (\r\n          <div style={{ marginBottom: '1rem', fontWeight: 'bold' }}>\r\n            {isRTL ? 'الوقت المتبقي: ' : 'Time left:'} {formatTime(timeLeft)}\r\n          </div>\r\n        )}\r\n\r\n        <h2 style={{color:'#35508C'}}>{survey.title}</h2>\r\n        <p style={{color:'#35508C'}}>{survey.description}</p>\r\n\r\n        {step === 1 ? (\r\n          <form onSubmit={handleDemographicsNext}>\r\n            {demographicFields.age_min !== 0 && demographicFields.age_max !== 0 && (\r\n              <div style={{ marginBottom: 12 }}>\r\n                <label>{isRTL ? 'العمر' : 'Age'}:</label>\r\n                <input\r\n                  type=\"number\"\r\n                  value={demographics.age || ''}\r\n                  onChange={(e) => handleDemographicsChange('age', e.target.value)}\r\n                  required ={userRole !== 'researcher'}\r\n                  min={demographicFields.age_min}\r\n                  max={demographicFields.age_max}\r\n                  placeholder={`Age (${demographicFields.age_min} - ${demographicFields.age_max})`}\r\n\r\n                  style={{ width: '97%', padding: 8, marginTop: 4, borderRadius: 4 }}\r\n                />\r\n              </div>\r\n            )}\r\n\r\n            {demographicFields.gender !== null && (\r\n              <div style={{ marginBottom: 12 }}>\r\n                <label>{isRTL ? 'الجنس' : 'Gender'}:</label>\r\n                <select\r\n                  value={demographics.gender || ''}\r\n                  onChange={(e) => handleDemographicsChange('gender', e.target.value)}\r\n                  required ={userRole !== 'researcher'}\r\n                  style={{ width: '97%', padding: 8, marginTop: 4, borderRadius: 4 }}\r\n                >\r\n                  <option value=\"\">{isRTL ? 'اختر' : 'Select'}</option>\r\n                  <option value=\"male\">{isRTL ? 'ذكر' : 'Male'}</option>\r\n                  <option value=\"female\">{isRTL ? 'أنثى' : 'Female'}</option>\r\n                </select>\r\n              </div>\r\n            )}\r\n\r\n            {demographicFields.country && (\r\n              <div style={{ marginBottom: 12 }}>\r\n                <label>{isRTL ? 'الدولة' : 'Country'}:</label>\r\n                <select\r\n                  value={demographics.country || ''}\r\n                  onChange={(e) => handleDemographicsChange('country', e.target.value)}\r\n                  required ={userRole !== 'researcher'}\r\n                  style={{ width: '100%', padding: 8, marginTop: 4, borderRadius: 4 }}\r\n                >\r\n                  <option value=\"\">{isRTL ? 'اختر' : 'Select'}</option>\r\n                  {countries.map(c => <option key={c.id} value={c.name}>{c.name}</option>)}\r\n                </select>\r\n              </div>\r\n            )}\r\n\r\n            {demographicFields.university && (\r\n              <div style={{ marginBottom: 12 }}>\r\n                <label>{isRTL ? 'الجامعة' : 'University'}:</label>\r\n                <select\r\n                  value={demographics.university || ''}\r\n                  onChange={(e) => handleDemographicsChange('university', e.target.value)}\r\n                  required ={userRole !== 'researcher'}\r\n                  style={{ width: '100%', padding: 8 }}\r\n                >\r\n                  <option value=\"\">{isRTL ? 'اختر' : 'Select'}</option>\r\n                  {universities.map(u => <option key={u.id} value={u.name}>{u.name}</option>)}\r\n                </select>\r\n              </div>\r\n            )}\r\n\r\n            {demographicFields.field_of_study && (\r\n              <div style={{ marginBottom: 12 }}>\r\n                <label>{isRTL ? 'المجال' : 'Field of Study'}:</label>\r\n                <select\r\n                  value={demographics.field_of_study || ''}\r\n                  onChange={(e) => handleDemographicsChange('field_of_study', e.target.value)}\r\n                  required ={userRole !== 'researcher'} \r\n                  style={{ width: '100%', padding: 8 }}\r\n                >\r\n                  <option value=\"\">{isRTL ? 'اختر' : 'Select'}</option>\r\n                  {fieldsOfStudy.map(f => <option key={f.id} value={f.name}>{f.name}</option>)}\r\n                </select>\r\n              </div>\r\n            )}\r\n\r\n            {demographicFields.profession && (\r\n              <div style={{ marginBottom: 12 }}>\r\n                <label>{isRTL ? 'المهنة' : 'Profession'}:</label>\r\n                <select\r\n                  value={demographics.profession || ''}\r\n                  onChange={(e) => handleDemographicsChange('profession', e.target.value)}\r\n                  required ={userRole !== 'researcher'}\r\n                  style={{ width: '100%', padding: 8 }}\r\n                >\r\n                  <option value=\"\">{isRTL ? 'اختر' : 'Select'}</option>\r\n                  {professions.map(p => <option key={p.id} value={p.name}>{p.name}</option>)}\r\n                </select>\r\n              </div>\r\n            )}\r\n\r\n            {demographicFields.income_min !== 0 && demographicFields.income_max !== 0 && (\r\n              <div style={{ marginBottom: 12 }}>\r\n                \r\n                <label>{isRTL ? 'الدخل' : 'Income'}:</label>\r\n                <input\r\n                  type=\"number\"\r\n                  value={demographics.income || ''}\r\n                  onChange={(e) => handleDemographicsChange('income', e.target.value)}\r\n                  required ={userRole !== 'researcher'}\r\n                  min={demographicFields.income_min}\r\n                  max={demographicFields.income_max}\r\n                  placeholder={`Income (${demographicFields.income_min} - ${demographicFields.income_max})`}\r\n\r\n                  style={{ width: '97%', padding: 8, marginTop: 4, borderRadius: 4 }}\r\n                />\r\n              </div>\r\n            )}\r\n\r\n            <div style={{ textAlign: 'center', marginTop: 24 }}>\r\n              <button\r\n                type=\"submit\"\r\n                onMouseEnter={() => setHoverBtn({ ...hoverBtn, back: true })}\r\n                onMouseLeave={() => setHoverBtn({ ...hoverBtn, back: false })}\r\n                style={{\r\n                  padding: '0.75rem 2rem',\r\n                  backgroundColor: hoverBtn.back ? '#F19303' : 'white',\r\n                  color: hoverBtn.back ? 'white' : '#395692',\r\n                  border: 'none',\r\n                  borderRadius: 8,\r\n                  fontWeight: 'bold'\r\n                }}\r\n              >\r\n                {isRTL ? 'التالي' : 'Next'}\r\n              </button>\r\n            </div>\r\n          </form>\r\n        ) : (\r\n          <form onSubmit={handleSubmit}>\r\n            <ToastContainer />\r\n            {survey.questions.map((q, i) => (\r\n              <div key={q.id} style={{ backgroundColor: 'white', color: 'black', padding: 12, borderRadius: 8, marginBottom: 20 }}>\r\n                <label>{i + 1}. {q.question_text}</label>\r\n                {q.type === 'multiple_choice' &&\r\n                  q.options.map(opt => (\r\n                    <div key={opt.id}>\r\n                      <input\r\n                        type=\"radio\"\r\n                        name={q.id}\r\n                        value={opt.text}\r\n                        checked={answers[q.id] === opt.text}\r\n                        onChange={() => handleAnswersChange(q.id, opt.text)}\r\n                        required\r\n                      />\r\n                      <label style={{ marginLeft: 8 }}>{opt.text}</label>\r\n                    </div>\r\n                  ))\r\n                }\r\n                {q.type === 'text' && (\r\n                  <input\r\n                    type=\"text\"\r\n                    value={answers[q.id] || ''}\r\n                    onChange={(e) => handleAnswersChange(q.id, e.target.value)}\r\n                    required\r\n                    style={{ width: '97%', padding: 8 }}\r\n                  />\r\n                )}\r\n                {q.type === 'scale' && (\r\n                  <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n                    <span>{q.scale_min_label || '1'}</span>\r\n                    {[1, 2, 3, 4, 5].map(val => (\r\n                      <label key={val}>\r\n                        <input\r\n                          type=\"radio\"\r\n                          name={q.id}\r\n                          value={val}\r\n                          checked={answers[q.id] === String(val)}\r\n                          onChange={() => handleAnswersChange(q.id, String(val))}\r\n                          required\r\n                        />\r\n                        {val}\r\n                      </label>\r\n                    ))}\r\n                    <span>{q.scale_max_label || '5'}</span>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            ))}\r\n\r\n            <div style={{ display: 'flex', justifyContent: 'space-between' }}>\r\n              <button type=\"button\" onClick={() => setStep(1)} style={{                  \r\n                padding: '0.75rem 2rem',\r\n                  backgroundColor: hoverBtn.back ? '#F19303' : 'white',\r\n                  color: hoverBtn.back ? 'white' : '#395692',\r\n                  border: 'none',\r\n                  borderRadius: 8,\r\n                  fontWeight: 'bold',\r\n                  cursor:'pointer'}}>{isRTL ? 'عودة' : 'Back'} </button>\r\n              {userRole !== 'researcher' && (\r\n                <button type=\"submit\" style = {{ padding: '0.75rem 2rem',\r\n                  backgroundColor: hoverBtn.back ? '#F19303' : 'white',\r\n                  color: hoverBtn.back ? 'white' : '#395692',\r\n                  border: 'none',\r\n                  borderRadius: 8,\r\n                  fontWeight: 'bold',\r\n                  cursor:'pointer'}} >\r\n                  {isRTL ? 'إرسال' : 'Submit'}\r\n                </button>\r\n              )}            \r\n            </div>\r\n          </form>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SurveyForm;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}